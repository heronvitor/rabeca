<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <title>Rabeca: Intervalos e Acordes</title>
    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
            background: #f4f4f9;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        .controls {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
            margin-bottom: 20px;
        }

        .control-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        select,
        button {
            padding: 8px;
            border-radius: 6px;
            border: 1px solid #ccc;
        }

        #legend {
            background: white;
            padding: 15px;
            border-radius: 8px;
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
        }

        .dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            border: 1px solid #555;
        }

        .fret-line {
            stroke: rgba(255, 255, 255, 0.2);
            stroke-width: 1;
        }

        .label-note {
            font-family: Arial;
            font-size: 10px;
            font-weight: bold;
            fill: white;
            text-anchor: middle;
            pointer-events: none;
        }

        .string-label {
            font-family: Arial;
            font-size: 12px;
            font-weight: bold;
            fill: #7f8c8d;
            text-anchor: middle;
        }

        .observation {
            background-color: #fff3cd;
            /* Amarelo claro para atenÃ§Ã£o */
            color: #856404;
            padding: 12px 20px;
            border-radius: 8px;
            border-left: 5px solid #ffeeba;
            margin: 10px 0 20px 0;
            max-width: 600px;
            font-size: 0.9rem;
            line-height: 1.4;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }

        .live-note-label {
            font-family: Arial, sans-serif;
            font-size: 10px;
            font-weight: bold;
            fill: cyan; /* Mesma cor do cÃ­rculo */
            text-anchor: middle; /* Centraliza horizontalmente */
            dominant-baseline: central; /* Centraliza verticalmente */
            pointer-events: none;
            text-shadow: 0px 0px 2px rgba(0,0,0,0.5); /* Sombra para melhorar leitura */
        }
    </style>
</head>

<body>

    <h2>Calculador de Intervalos e Acordes</h2>

    <div class="controls">
        <div class="control-group">
            <label>NÂº de Cordas:</label>
            <select id="stringCount">
                <option value="5">5 Cordas</option>
                <option value="4" selected>4 Cordas</option>
            </select>
        </div>

        <div class="control-group">
            <label>AfinaÃ§Ã£o:</label>
            <select id="tuningSelect">
                <option value="standard">(C G D A E)</option>
                <option value="cavalo" selected>(D A E B F#)</option>
            </select>
        </div>

        <div class="control-group">
            <label>TÃ´nica</label>
            <select id="rootNote">
                <option value="C">C</option>
                <option value="C#">C#</option>
                <option value="D">D</option>
                <option value="D#">D#</option>
                <option value="E">E</option>
                <option value="F">F</option>
                <option value="F#">F#</option>
                <option value="G" selected>G</option>
                <option value="G#">G#</option>
                <option value="A">A</option>
                <option value="A#">A#</option>
                <option value="B">B</option>
            </select>
        </div>

        <div class="control-group">
            <label>Modo:</label>
            <select id="analysisMode">
                <option value="interval">Intervalos</option>
                <option value="chord">Acordes</option>
            </select>
        </div>

        <div class="control-group">
            <label>Tipo:</label>
            <select id="typeSelect">
            </select>
        </div>

        <div class="control-group" style="justify-content: flex-end;">
            <button id="micBtn" style="background: #e74c3c; color: white; cursor: pointer;">Ativar Microfone</button>
        </div>
    </div>

    <div id="legend"></div>

    <div id="svg-container">
        <svg id="violin-svg" width="350" height="600" viewBox="0 0 300 600" xmlns="http://www.w3.org/2000/svg">
            <g transform="translate(30, 40)">
                <rect id="fingerboard" x="25" y="20" width="150" height="520" fill="#1e272e" rx="4" />
                <g id="frets-layer"></g>
                <line id="nut" x1="25" y1="20" x2="175" y2="20" stroke="#000" stroke-width="8" />
                <g id="strings-layer"></g>
                <g id="labels-layer"></g>
                <g id="markers-layer"></g>
            </g>
        </svg>
    </div>

    <script src="script.js"></script>
    <div class="observation">
        <strong>ðŸ’¡ Dica de Uso:</strong> Para uma detecÃ§Ã£o precisa do afinador, toque <strong>apenas uma nota por
            vez</strong>. O sistema identifica apenas a nota fundamental.
    </div>
</body>

</html>